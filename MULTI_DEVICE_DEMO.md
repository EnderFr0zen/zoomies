# 多設備演示設置指南

## 概述
這個指南將幫助你設置 Zoomies 學習平台的多設備實時演示，使用 CouchDB 作為共享數據庫。

## 系統架構
- **主設備（教師）**: 運行 CouchDB 服務器和 React 應用程序
- **學生設備**: 連接到同一網絡，訪問主設備上的應用程序
- **數據庫**: CouchDB 運行在 Docker 容器中，支持多設備同時訪問

## 設置步驟

### 1. 主設備設置（教師筆記本）

1. **啟動 CouchDB:**
   ```bash
   npm run couchdb:start
   ```

2. **設置數據庫和默認用戶:**
   ```bash
   npm run couchdb:setup
   ```

3. **啟動 React 應用程序:**
   ```bash
   npm run dev
   ```

4. **獲取主設備的 IP 地址:**
   - Windows: `ipconfig`
   - Mac/Linux: `ifconfig`
   - 記下你的 IP 地址（例如：192.168.1.100）

### 2. 網絡配置

1. **創建手機熱點:**
   - 在手機上創建 WiFi 熱點
   - 設置熱點名稱和密碼

2. **連接所有設備:**
   - 主設備（教師筆記本）連接到熱點
   - 3 台學生筆記本連接到同一熱點

### 3. 學生設備設置

1. **在每台學生設備上:**
   - 打開瀏覽器
   - 訪問：`http://主設備IP:5173`
   - 例如：`http://192.168.1.100:5173`

2. **登入測試:**
   - 學生1：用戶名 `student1`，密碼任意
   - 學生2：用戶名 `student2`，密碼任意
   - 學生3：用戶名 `student3`，密碼任意

### 4. 教師設備設置

1. **在主設備上:**
   - 訪問：`http://localhost:5173`
   - 登入：用戶名 `teacher1`，密碼任意

## 演示流程

### 1. 初始設置
- 教師登入並創建課程
- 將學生添加到課程中
- 驗證所有設備都能看到相同的數據

### 2. 實時演示
- 教師創建新課程
- 學生設備實時看到新課程
- 教師添加學生到課程
- 學生設備實時看到課程更新

### 3. 功能測試
- 文件上傳和下載
- 課程內容編輯
- 學生管理功能

## 故障排除

### 連接問題
1. **學生設備無法訪問主設備:**
   - 檢查防火牆設置
   - 確認所有設備在同一網絡
   - 驗證 IP 地址是否正確

2. **CouchDB 連接失敗:**
   - 檢查 CouchDB 是否運行：`docker ps`
   - 重啟 CouchDB：`npm run couchdb:stop && npm run couchdb:start`

### 數據同步問題
1. **數據不同步:**
   - 檢查 CouchDB 日誌：`docker logs zoomies-couchdb`
   - 重啟應用程序

2. **用戶無法登入:**
   - 重新設置數據庫：`npm run couchdb:reset`

## 網絡配置選項

### 選項 1: 手機熱點（推薦）
- 優點：簡單設置，移動性好
- 缺點：可能速度較慢

### 選項 2: 路由器 WiFi
- 優點：速度快，穩定
- 缺點：需要路由器

### 選項 3: 筆記本熱點
- 優點：使用筆記本創建熱點
- 缺點：需要額外配置

## 安全注意事項

1. **僅用於演示:**
   - 默認用戶沒有密碼保護
   - 僅在安全的演示環境中使用

2. **生產環境:**
   - 需要添加身份驗證
   - 使用 HTTPS
   - 設置強密碼

## 性能優化

1. **CouchDB 配置:**
   - 調整內存設置
   - 優化索引

2. **網絡優化:**
   - 使用 5GHz WiFi
   - 確保信號強度

## 備用方案

如果 CouchDB 出現問題：

1. **重啟所有服務:**
   ```bash
   npm run couchdb:reset
   npm run dev
   ```

2. **檢查日誌:**
   ```bash
   docker logs zoomies-couchdb
   ```

3. **手動驗證:**
   - 訪問 CouchDB 管理界面：`http://主設備IP:5984/_utils`
   - 用戶名：`admin`，密碼：`password`

## 聯繫支持

如果遇到問題，請檢查：
1. Docker Desktop 是否運行
2. 所有設備是否在同一網絡
3. 防火牆是否阻止連接
4. CouchDB 容器是否正常運行
